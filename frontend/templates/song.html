{% extends "base.html" %}

{% block title %}
    <title>{{ song.title }} - My Website</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/song.css') }}">
{% endblock %}

{% block content %}
    <!-- Song Details Section -->
    <div class="container mt-5">
        <div class="text-center">
            <!-- Song Cover -->
            <img src="{{ song['image'] }}" alt="{{ song.title }}" class="img-fluid mb-3">

            <!-- Song Title -->
            <h1>{{ song['name'] }}</h1>
            
            <!-- Song Info -->
            <p>{{ song['artists'] }}</p>
            <p>other info can go here</p>
        </div>

        <!-- Rating Section -->
        <div class="text-center mt-4">
            <h3>Rate this Song</h3>
            <div class="rating">
                {% for i in range(1, 6) %}
                    <span class="star" data-value="{{ i }}">&#9733;</span>
                {% endfor %}
            </div>
        </div>

        <!-- Progress Bar Section -->
        <div class="mt-4">
            <h3>Comments</h3>
            <input type="text" id="commentInput" class="form-control mb-2" placeholder="Add a comment...">
            <button id="addComment" class="btn btn-primary">Submit</button>
        </div>
        <div class="progress mt-3">
            <div class="progress-bar" id="progressBar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="{{ song.duration }}"></div>
        </div>
        
        <!-- Comments Display -->
        <div id="comments" class="mt-3">
            {% for comment in comments %}
                <div class="comment">
                    <p><strong>{{ comment['username'] }}:</strong> {{ comment['text'] }} <small>{{ comment['timestamp'] }}</small></p>
                </div>
            {% endfor %}
        </div>
    </div>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/song.js') }}"></script>
{% endblock %}